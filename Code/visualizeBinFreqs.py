
import create_dataset
import numpy as np
from matplotlib import pyplot as plt
# import seaborn as sns

if __name__ == '__main__':

	# AB_BIN_FREQS = [  0.00000000e+00,   0.00000000e+00,   0.00000000e+00,   0.00000000e+00,   0.00000000e+00,   0.00000000e+00,   0.00000000e+00,   0.00000000e+00,   0.00000000e+00,   0.00000000e+00,   0.00000000e+00,   0.00000000e+00,   0.00000000e+00,   0.00000000e+00,   0.00000000e+00,   0.00000000e+00,   0.00000000e+00,   0.00000000e+00,   0.00000000e+00,   0.00000000e+00,   0.00000000e+00,   0.00000000e+00,   0.00000000e+00,   0.00000000e+00,   0.00000000e+00,   0.00000000e+00,   0.00000000e+00,   0.00000000e+00,   0.00000000e+00,   0.00000000e+00,   0.00000000e+00,   0.00000000e+00,   0.00000000e+00,   0.00000000e+00,   0.00000000e+00,   0.00000000e+00,   0.00000000e+00,   0.00000000e+00,   0.00000000e+00,   0.00000000e+00,   0.00000000e+00,   0.00000000e+00,   0.00000000e+00,   0.00000000e+00,   0.00000000e+00,   0.00000000e+00,   0.00000000e+00,   0.00000000e+00,   0.00000000e+00,   0.00000000e+00,   0.00000000e+00,   0.00000000e+00,   0.00000000e+00,   0.00000000e+00,   0.00000000e+00,   0.00000000e+00,   0.00000000e+00,   0.00000000e+00,   0.00000000e+00,   0.00000000e+00,   0.00000000e+00,   0.00000000e+00,   0.00000000e+00,   1.00000000e+00,   0.00000000e+00,   0.00000000e+00,   0.00000000e+00,   0.00000000e+00,   0.00000000e+00,   0.00000000e+00,   0.00000000e+00,   0.00000000e+00,   0.00000000e+00,   0.00000000e+00,   0.00000000e+00,   0.00000000e+00,   0.00000000e+00,   0.00000000e+00,   0.00000000e+00,   0.00000000e+00,   0.00000000e+00,   0.00000000e+00,   0.00000000e+00,   0.00000000e+00,   0.00000000e+00,   1.00000000e+00,   0.00000000e+00,   0.00000000e+00,   0.00000000e+00,   0.00000000e+00,   0.00000000e+00,   0.00000000e+00,   0.00000000e+00,   0.00000000e+00,   0.00000000e+00,   0.00000000e+00,   0.00000000e+00,   0.00000000e+00,   0.00000000e+00,   0.00000000e+00,   0.00000000e+00,   0.00000000e+00,   0.00000000e+00,   1.00000000e+00,   3.00000000e+00,   1.00000000e+00,   1.00000000e+00,   2.00000000e+00,   0.00000000e+00,   0.00000000e+00,   0.00000000e+00,   0.00000000e+00,   0.00000000e+00,   0.00000000e+00,   0.00000000e+00,   0.00000000e+00,   0.00000000e+00,   0.00000000e+00,   0.00000000e+00,   0.00000000e+00,   0.00000000e+00,   1.00000000e+00,   0.00000000e+00,   1.00000000e+00,   0.00000000e+00,   8.00000000e+00,   1.20000000e+01,   5.00000000e+00,   4.00000000e+00,   0.00000000e+00,   0.00000000e+00,   0.00000000e+00,   0.00000000e+00,   0.00000000e+00,   0.00000000e+00,   0.00000000e+00,   0.00000000e+00,   0.00000000e+00,   0.00000000e+00,   0.00000000e+00,   0.00000000e+00,   4.00000000e+00,   3.40000000e+01,   4.30000000e+01,   7.00000000e+00,   4.50000000e+01,   7.20000000e+01,   1.43000000e+02,   1.41000000e+02,   5.10000000e+01,   1.50000000e+01,   2.00000000e+00,   0.00000000e+00,   0.00000000e+00,   0.00000000e+00,   0.00000000e+00,   0.00000000e+00,   0.00000000e+00,   0.00000000e+00,   0.00000000e+00,   0.00000000e+00,   0.00000000e+00,   1.10000000e+01,   5.70000000e+01,   9.80000000e+01,   8.20000000e+01,   1.84000000e+02,   4.89000000e+02,   1.16600000e+03,   1.16200000e+03,   6.26000000e+02,   1.93000000e+02,   3.30000000e+01,   4.00000000e+00,   0.00000000e+00,   0.00000000e+00,   0.00000000e+00,   0.00000000e+00,   0.00000000e+00,   0.00000000e+00,   0.00000000e+00,   0.00000000e+00,   2.00000000e+00,   1.17000000e+02,   5.45000000e+02,   1.13900000e+03,   9.58000000e+02,   9.85000000e+02,   2.06100000e+03,   5.11800000e+03,   7.10700000e+03,   4.55700000e+03,   1.41500000e+03,   3.35000000e+02,   5.90000000e+01,   1.10000000e+01,   3.00000000e+00,   0.00000000e+00,   0.00000000e+00,   0.00000000e+00,   0.00000000e+00,   0.00000000e+00,   0.00000000e+00,   0.00000000e+00,   2.66000000e+02,   1.70300000e+03,   5.15900000e+03,   7.87300000e+03,   1.02690000e+04,   1.20980000e+04,   2.26550000e+04,   2.42960000e+04,   1.49030000e+04,   5.34000000e+03,   1.41100000e+03,   3.85000000e+02,   1.49000000e+02,   4.60000000e+01,   2.00000000e+00,   0.00000000e+00,   0.00000000e+00,   0.00000000e+00,   0.00000000e+00,   0.00000000e+00,   0.00000000e+00,   1.35000000e+02,   2.80200000e+03,   1.63060000e+04,   4.06660000e+04,   7.50860000e+04,   1.47989000e+05,   2.09351000e+05,   6.98960000e+04,   3.00650000e+04,   1.03820000e+04,   3.09900000e+03,   8.73000000e+02,   2.33000000e+02,   8.10000000e+01,   2.40000000e+01,   0.00000000e+00,   0.00000000e+00,   0.00000000e+00,   0.00000000e+00,   0.00000000e+00,   0.00000000e+00,   8.80000000e+01,   1.97800000e+03,   9.55500000e+03,   1.87210000e+04,   2.46440000e+04,   4.02270000e+04,   1.14649000e+05,   1.09503000e+05,   6.42830000e+04,   2.80300000e+04,   8.69000000e+03,   2.51200000e+03,   7.63000000e+02,   1.46000000e+02,   4.70000000e+01,   1.50000000e+01,   0.00000000e+00,   0.00000000e+00,   0.00000000e+00,   0.00000000e+00,   0.00000000e+00,   7.00000000e+00,   5.22000000e+02,   2.63900000e+03,   3.87200000e+03,   2.93700000e+03,   2.06000000e+03,   1.77200000e+03,   2.89300000e+03,   7.05900000e+03,   1.26010000e+04,   1.22930000e+04,   5.71100000e+03,   2.03600000e+03,   6.40000000e+02,   2.17000000e+02,   9.10000000e+01,   0.00000000e+00,   0.00000000e+00,   0.00000000e+00,   0.00000000e+00,   0.00000000e+00,   0.00000000e+00,   2.05000000e+02,   5.88000000e+02,   8.74000000e+02,   7.72000000e+02,   3.33000000e+02,   1.14000000e+02,   1.78000000e+02,   2.64000000e+02,   7.31000000e+02,   2.00100000e+03,   3.49800000e+03,   2.88100000e+03,   1.28900000e+03,   4.29000000e+02,   1.14000000e+02,   2.70000000e+01,   0.00000000e+00,   0.00000000e+00,   0.00000000e+00,   0.00000000e+00,   0.00000000e+00,   2.90000000e+01,   1.99000000e+02,   2.49000000e+02,   1.89000000e+02,   6.20000000e+01,   2.10000000e+01,   1.70000000e+01,   3.40000000e+01,   5.50000000e+01,   1.13000000e+02,   2.76000000e+02,   6.77000000e+02,   1.13300000e+03,   9.99000000e+02,   3.84000000e+02,   8.70000000e+01,   1.20000000e+01,   0.00000000e+00,   0.00000000e+00,   0.00000000e+00,   0.00000000e+00,   0.00000000e+00,   4.80000000e+01,   6.40000000e+01,   3.60000000e+01,   9.00000000e+00,   3.00000000e+00,   8.00000000e+00,   1.70000000e+01,   9.00000000e+00,   1.90000000e+01,   3.00000000e+01,   1.11000000e+02,   1.26000000e+02,   2.06000000e+02,   1.90000000e+02,   2.18000000e+02,   7.20000000e+01,   1.10000000e+01,   0.00000000e+00,   0.00000000e+00,   0.00000000e+00,   0.00000000e+00,   0.00000000e+00,   7.00000000e+00,   1.30000000e+01,   5.00000000e+00,   0.00000000e+00,   2.00000000e+00,   5.00000000e+00,   7.00000000e+00,   1.00000000e+01,   5.00000000e+00,   6.00000000e+00,   1.90000000e+01,   6.40000000e+01,   7.40000000e+01,   6.00000000e+01,   4.10000000e+01,   1.40000000e+01,   2.00000000e+00,   0.00000000e+00,   0.00000000e+00,   0.00000000e+00,   0.00000000e+00,   1.00000000e+00,   0.00000000e+00,   0.00000000e+00,   0.00000000e+00,   0.00000000e+00,   2.00000000e+00,   2.00000000e+00,   1.00000000e+00,   0.00000000e+00,   2.00000000e+00,   3.00000000e+00,   4.00000000e+00,   8.00000000e+00,   2.90000000e+01,   2.70000000e+01,   3.30000000e+01,   6.00000000e+00,   0.00000000e+00,   0.00000000e+00,   0.00000000e+00,   0.00000000e+00,   0.00000000e+00,   0.00000000e+00,   0.00000000e+00,   0.00000000e+00,   0.00000000e+00,   2.00000000e+00,   6.00000000e+00,   2.00000000e+00,   0.00000000e+00,   0.00000000e+00,   0.00000000e+00,   0.00000000e+00,   1.00000000e+00,   6.00000000e+00,   1.10000000e+01,   6.00000000e+00,   1.00000000e+01,   3.30000000e+01,   0.00000000e+00,   0.00000000e+00,   0.00000000e+00,   0.00000000e+00,   0.00000000e+00,   0.00000000e+00,   0.00000000e+00,   0.00000000e+00,   0.00000000e+00,   1.00000000e+00,   0.00000000e+00,   0.00000000e+00,   0.00000000e+00,   0.00000000e+00,   0.00000000e+00,   0.00000000e+00,   0.00000000e+00,   2.00000000e+00,   0.00000000e+00,   1.00000000e+00,   0.00000000e+00,   0.00000000e+00,   0.00000000e+00,   0.00000000e+00,   0.00000000e+00,   0.00000000e+00,   0.00000000e+00,   0.00000000e+00,   0.00000000e+00,   0.00000000e+00,   0.00000000e+00,   1.00000000e+00,   0.00000000e+00,   0.00000000e+00,   0.00000000e+00,   0.00000000e+00,   0.00000000e+00,   0.00000000e+00,   0.00000000e+00,   0.00000000e+00,   0.00000000e+00,   0.00000000e+00,   0.00000000e+00,   0.00000000e+00,   0.00000000e+00,   0.00000000e+00,   0.00000000e+00,   0.00000000e+00,   0.00000000e+00,   0.00000000e+00,   0.00000000e+00,   0.00000000e+00,   0.00000000e+00,   0.00000000e+00,   0.00000000e+00,   0.00000000e+00,   0.00000000e+00,   0.00000000e+00,   0.00000000e+00,   0.00000000e+00,   0.00000000e+00,   0.00000000e+00,   0.00000000e+00,   0.00000000e+00,   0.00000000e+00,   0.00000000e+00,   0.00000000e+00,   0.00000000e+00,   0.00000000e+00,   0.00000000e+00  ]
	AB_BIN_FREQS = np.loadtxt('ab_freqs_1.txt')

	data_1d = np.array(AB_BIN_FREQS)
	log_data_1d = [np.log10(x) if x>1 else 0 for x in data_1d]

	# data_2d = np.reshape(data_1d, (-1,22))
	# row_labels = [n * 10 for n in range(-11,11)]

	data_2d = np.reshape(log_data_1d, (-1,211))
	# data_2d = np.transpose(data_2d)
	# data_2d = np.fliplr(data_2d)
	data_2d = np.flipud(data_2d)

	print ('Shape of data: {}'.format(data_2d.shape))

	# plt.ylim(ymin=-110)
	# plt.ylim(ymax=110)
	# plt.xlim(xmin=-110)
	# plt.xlim(xmax=110)

	fig, ax = plt.subplots()

	plt.title('log(P(a,b))')
	plt.xlabel('b')
	plt.ylabel('a')
	# ax.set_xticks(np.arange(data_2d.shape[1])+0.5, minor=False)
	# ax.set_xticklabels(row_labels, minor=False)
	# ax.set_yticks(np.arange(data_2d.shape[0])+0.5, minor=False)
	# ax.set_yticklabels(col_labels, minor=False)

	heatmap = plt.pcolor(data_2d)
	locs, labels = plt.xticks()
	labels = [str(x - 105) for x in locs]
	y_labels = reversed(labels[0:5])
	print('Labels len: {}\n labels: {}\ny labels: {}'.format(len(labels), labels, y_labels))
	
	plt.xticks(locs, labels)
	plt.yticks(locs, y_labels)

	# plt.xticks(locs, labels)
	# plt.yticks(locs, labels)

	plt.xlim(0, 210)
	plt.ylim(0, 210)

	plt.show()
	fig.savefig('ab_freqs_v1_1_log10.png')

	
	# sns.heatmap(data_2d, annot=True, fmt="f", linewidths=.5)
	# plt.show()
	# plt.savefig('ab_freqs_v1_2.png')

	# http://stackoverflow.com/questions/2369492/generate-a-heatmap-in-matplotlib-using-a-scatter-data-set/2461029#2461029
	# http://stackoverflow.com/questions/17201172/a-logarithmic-colorbar-in-matplotlib-scatter-plot?noredirect=1&lq=1